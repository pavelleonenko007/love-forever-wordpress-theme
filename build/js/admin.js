(()=>{"use strict";const e=()=>{!function(e){function t(t,a){return a.children().each((function(){e(this).width(e(this).width())})),a}e(document).ready((function(){const a=e(".wp-list-table").find("tbody"),n=parseInt(e("#edit_dress_per_page").val())||10;a.sortable({classes:{"ui-sortable":"sortable","ui-sortable-handle":"sortable__handle","ui-sortable-helper":"sortable__helper"},handle:".column-menu_order",axis:"y",helper:t,update:function(t,r){const o=[];a.find("tr").each((function(){o.push(e(this).attr("id").replace("post-",""))}));const s=parseInt(new URLSearchParams(window.location.search).get("paged"))||1,c=new URLSearchParams(window.location.search).get("dress_category");e.ajax({url:LOVE_FOREVER_ADMIN.AJAX_URL,type:"POST",data:{action:"update_dress_order",order:o,page:s,posts_per_page:n,dress_category:c,nonce:LOVE_FOREVER_ADMIN.NONCE},success:function(t){if(!t.success)return console.error(t.data.debug),void alert(t.data.message);!function(t){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const n=t[a];e(`#post-${n} .column-menu_order`).text(a)}}(t.data.result)},error:function(){alert("Произошла ошибка при обновлении порядка."),window.location.reload()}})}})}))}(jQuery)};jQuery(document).ready((function(t){e();const a=t("#regularPriceField input"),n=t("#salePercentField input"),r=t("#priceWithDiscountField input");n.on("input",(e=>{const t=a.val()?parseInt(a.val()):0,o=n.val()?parseInt(n.val()):0;o>99&&n.val(99),o<0&&n.val(0);const s=t-t*o/100;r.val(Math.ceil(s))})),r.on("input",(e=>{const t=a.val()?parseInt(a.val()):0,o=r.val()?parseInt(r.val()):0;o>t&&(o=1),o<0&&(o=0);const s=o/t*100;n.val(s)}))}))})();